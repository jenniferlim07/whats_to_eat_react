(this.webpackJsonpwhats_to_eat_react=this.webpackJsonpwhats_to_eat_react||[]).push([[0],{251:function(e,t,a){},270:function(e,t,a){},478:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(7),c=a.n(r),i=a(15),o=a(16),l=a(17),u=a(29),d=a(28),h=(a(251),a(13)),b=(a(252),a(11)),j=a(101),m=a.n(j),p=a(216),g=a(217),v="http://127.0.0.1:8080/",f=a.n(g).a.create({baseURL:v,timeout:5e3,headers:{Authorization:localStorage.getItem("access_token")?"JWT "+localStorage.getItem("access_token"):null,"Content-Type":"application/json",accept:"application/json"}});f.interceptors.response.use((function(e){return e}),function(){var e=Object(p.a)(m.a.mark((function e(t){var a,n,s,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,"undefined"!==typeof t.response){e.next=4;break}return alert("A server/network error occurred. Looks like CORS might be the problem. Sorry about this - we will get it fixed shortly."),e.abrupt("return",Promise.reject(t));case 4:if(401!==t.response.status||a.url!==v+"/api/token/refresh/"){e.next=7;break}return window.location.href="/login/",e.abrupt("return",Promise.reject(t));case 7:if("token_not_valid"!==t.response.data.code||401!==t.response.status||"Unauthorized"!==t.response.statusText){e.next=23;break}if(!(n=localStorage.getItem("refresh_token"))){e.next=21;break}if(s=JSON.parse(atob(n.split(".")[1])),r=Math.ceil(Date.now()/1e3),console.log(s.exp),!(s.exp>r)){e.next=17;break}return e.abrupt("return",f.post("api/token/refresh/",{refresh:n}).then((function(e){return localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),f.defaults.headers.Authorization="JWT "+e.data.access,a.headers.Authorization="JWT "+e.data.access,f(a)})).catch((function(e){console.log(e)})));case 17:console.log("Refresh token is expired",s.exp,r),window.location.href="/login/";case 19:e.next=23;break;case 21:console.log("Refresh token not available."),window.location.href="/login/";case 23:return e.abrupt("return",Promise.reject(t));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var O,x,y=f,k=new(function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"getAll",value:function(){return y.get("/restaurants")}},{key:"get",value:function(e){return y.get("/restaurants/".concat(e))}},{key:"create",value:function(e){return y.post("/restaurants",e)}},{key:"update",value:function(e,t){return y.put("/restaurants/".concat(e),t)}},{key:"delete",value:function(e){return y.delete("/restaurants/".concat(e))}},{key:"findByCity",value:function(e){return y.get("/restaurants?city=".concat(e))}},{key:"getAllCities",value:function(){return y.get("/restaurants/city")}}]),e}()),C=(a(270),a(2)),w=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({selectedOption:e.target.value},(function(){return console.log("Option selected: ",e)}))},n.onChangeSearchCity=n.onChangeSearchCity.bind(Object(b.a)(n)),n.retrieveRestaurants=n.retrieveRestaurants.bind(Object(b.a)(n)),n.refreshList=n.refreshList.bind(Object(b.a)(n)),n.setActiveRestaurant=n.setActiveRestaurant.bind(Object(b.a)(n)),n.searchCity=n.searchCity.bind(Object(b.a)(n)),n.retrieveCities=n.retrieveCities.bind(Object(b.a)(n)),n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.state={id:localStorage.getItem("id"),restaurants:[],currentRestaurant:null,currentIndex:-1,searchCity:"",cities:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.retrieveRestaurants(),this.retrieveCities()}},{key:"onChangeSearchCity",value:function(e){var t=e.target.value;this.setState({searchCity:t})}},{key:"retrieveRestaurants",value:function(){var e=this;k.getAll().then((function(t){e.setState({restaurants:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveRestaurants(),this.setState({currentRestaurant:null,currentIndex:-1})}},{key:"setActiveRestaurant",value:function(e,t){this.setState({currentRestaurant:e,currentIndex:t})}},{key:"searchCity",value:function(e){var t=this;k.findByCity(this.state.selectedOption).then((function(e){t.setState({restaurants:e.data,currentRestaurant:null}),console.log(e.data)})).catch((function(e){console.log(e)})),e.preventDefault()}},{key:"retrieveCities",value:function(){var e=this;k.getAllCities().then((function(t){e.setState({cities:t.data,selectedOption:t.data[0].city})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.restaurants,n=t.currentRestaurant,s=t.currentIndex;return Object(C.jsxs)("div",{className:"list row",children:[Object(C.jsx)("div",{className:"col-md-8",children:Object(C.jsxs)("form",{onSubmit:this.searchCity,children:[Object(C.jsx)("select",{className:"form-select form-select-lg mb-3","aria-label":".form-select-lg example",value:this.state.selectedOption,onChange:this.handleChange,children:this.state.cities.map((function(e,t){return Object(C.jsx)("option",{value:e.city,children:e.city},t)}))}),Object(C.jsx)("input",{type:"submit",value:"Submit"})]})}),Object(C.jsxs)("div",{className:"col-md-6",children:[Object(C.jsx)("h4",{children:"Restaurant List"}),Object(C.jsx)("ul",{className:"list-group",children:a&&a.map((function(t,a){return Object(C.jsx)("li",{className:"list-group-item "+(a===s?"active":""),onClick:function(){return e.setActiveRestaurant(t,a)},children:t.name},a)}))})]}),Object(C.jsx)("div",{className:"col=md-6",children:n?Object(C.jsxs)("div",{children:[Object(C.jsx)("h4",{children:"Restaurant"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:Object(C.jsx)("strong",{children:"Name:"})})," ",n.name]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:Object(C.jsx)("strong",{children:"Website:"})})," ",Object(C.jsx)("a",{target:"_blank",href:n.website,children:n.website})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:Object(C.jsx)("strong",{children:"Address:"})})," ",n.address]}),Object(C.jsx)(i.b,{to:"/restaurants/"+n.id,className:"badge badge-light",children:"Edit"})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"Please click on a Restaurant..."})]})})]})}}]),a}(n.Component),R=a(68),S=a(232),N=a(69),_=N.a.div(O||(O=Object(R.a)(["\n    position: relative;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    padding: 20px;\n    text-align:center;\n"]))),A=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onPlaceChanged=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.map,a=e.addplace,s=n.autoComplete.getPlace();console.log("place ",s),console.log("contact ",s.website),s.geometry&&(s.geometry.viewport?t.fitBounds(s.geometry.viewport):(t.setCenter(s.geometry.location),t.setZoom(17)),a(s),n.searchInput.blur())},n.clearSearchBox=n.clearSearchBox.bind(Object(b.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.map,a=e.mapApi,n={fields:["name","url","website","address_components","geometry"],types:["establishment"]};this.autoComplete=new a.places.Autocomplete(this.searchInput,n),this.autoComplete.addListener("place_changed",this.onPlaceChanged),this.autoComplete.bindTo("bounds",t)}},{key:"componentWillUnmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.mapApi;t.event.clearInstanceListeners(this.searchInput)}},{key:"clearSearchBox",value:function(){this.searchInput.value=""}},{key:"render",value:function(){var e=this;return Object(C.jsx)(_,{children:Object(C.jsx)("input",{className:"search-input",ref:function(t){e.searchInput=t},type:"text",onFocus:this.clearSearchBox,placeholder:"Enter a location"})})}}]),a}(n.Component),I=N.a.div(x||(x=Object(R.a)(["\n    position: absolute;\n    width: 38px;\n    height: 37px;\n    background-image: url(https://icon-library.com/images/pin-icon-png/pin-icon-png-9.jpg);\n    background-size: contain;\n    background-repeat: no-repeat;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-transform: translate(-50%,-50%);\n    -ms-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    cursor: grab;\n"]))),W=function(e){var t=e.text,a=e.onClick;return Object(C.jsx)(I,{alt:t,onClick:a})};W.defaultProps={onClick:null};var T,z=W,L=a(519),M=N.a.main(T||(T=Object(R.a)(["\n    width: 100%;\n    height: 100%;\n"]))),U=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={mapApiLoaded:!1,mapInstance:null,mapApi:null,geoCoder:null,user:localStorage.getItem("id"),places:[],restaurant_name:"",website:"",center:[],zoom:9,address:"",city:"",state:"",draggable:!0,lat:null,lng:null,submitted:!1},n.onMarkerInteraction=function(e,t,a){n.setState({draggable:!1,lat:a.lat,lng:a.lng})},n.onMarkerInteractionMouseUp=function(e,t,a){n.setState({draggable:!0}),n._generateAddress()},n._onChange=function(e){var t=e.center,a=e.zoom;n.setState({center:t,zoom:a})},n._onClick=function(e){n.setState({lat:e.lat,lng:e.lng})},n.apiHasLoaded=function(e,t){n.setState({mapApiLoaded:!0,mapInstance:e,mapApi:t}),n._generateAddress()},n.addPlace=function(e){console.log("addPlace ",e),n.setState({places:[e],restaurant_name:e.name,website:e.website,lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}),n._generateAddress()},n.getCity=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0])for(var a=0;a<e[t].types.length;a++)if("sublocality_level_1"===e[t].types[a]||"locality"===e[t].types[a])return e[t].long_name},n.getState=function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e.length;a++)if(e[a].types[0]&&"administrative_area_level_1"===e[a].types[0])return e[a].long_name},n.saveRestaurant=n.saveRestaurant.bind(Object(b.a)(n)),n.newRestaurant=n.newRestaurant.bind(Object(b.a)(n)),n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.setState({center:[47.608013,-122.335167],lat:47.608013,lng:-122.335167})}},{key:"saveRestaurant",value:function(){var e=this,t={user:this.state.user,name:this.state.restaurant_name,website:this.state.website,address:this.state.address,city:this.state.city};console.log("potato ",t),k.create(t).then((function(t){e.setState({id:t.data.id,name:t.data.name,website:t.data.website,address:t.data.address,city:t.data.city,user:e.state.user,submitted:!0}),console.log("saveRestaurant ",e.state.submitted),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"newRestaurant",value:function(){this.setState({id:null,user:this.state.user,name:"",website:"",address:"",city:"",submitted:!1}),console.log("newRestaurant ",this.submitted)}},{key:"_generateAddress",value:function(){var e=this;(new this.state.mapApi.Geocoder).geocode({location:{lat:this.state.lat,lng:this.state.lng}},(function(t,a){if(console.log(t),console.log(a),"OK"===a)if(t[0]){e.zoom=12;var n=t[0].address_components,s=e.getCity(n),r=e.getState(n);e.setState({address:t[0].formatted_address,city:s,state:r})}else window.alert("No results found");else window.alert("Geocoder failed due to: "+a)}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.places,t.mapApiLoaded),n=t.mapInstance,s=t.mapApi;return Object(C.jsxs)(M,{children:[a&&Object(C.jsxs)("div",{children:[Object(C.jsx)("h4",{children:"Restaurant Search"}),Object(C.jsx)(A,{className:"auto-complete",map:n,mapApi:s,addplace:this.addPlace})]}),Object(C.jsx)(S.a,{center:this.state.center,zoom:this.state.zoom,draggable:this.state.draggable,onChange:this._onChange,onChildMouseDown:this.onMarkerInteraction,onChildMouseUp:this.onMarkerInteractionMouseUp,onChildMouseMove:this.onMarkerInteraction,onChildClick:function(){return console.log("child click")},onClick:this._onClick,bootstrapURLKeys:{key:"".concat("AIzaSyBaOc-kpmUetfkxEQc60qXzA_p4FZvOmUY"),libraries:["places","geometry"]},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var a=t.map,n=t.maps;return e.apiHasLoaded(a,n)},children:Object(C.jsx)(z,{text:this.state.address,lat:this.state.lat,lng:this.state.lng})}),Object(C.jsx)("div",{className:"descriptions",children:Object(C.jsxs)(L.b,{bordered:!0,children:[Object(C.jsx)(L.b.Item,{label:"Restaurant",children:this.state.restaurant_name}),Object(C.jsx)("br",{}),Object(C.jsx)(L.b.Item,{label:"Address",children:this.state.address})]})}),Object(C.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(C.jsxs)("div",{children:[Object(C.jsx)("h4",{children:"You submitted successfully!"}),Object(C.jsx)("button",{className:"btn btn-success",onClick:this.newRestaurant,children:"Add"})]}):Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:this.saveRestaurant,className:"btn btn-success",children:"Submit"})})})]})}}]),a}(n.Component),B=(n.Component,a(27)),P=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(b.a)(n)),n.onChangeWebsite=n.onChangeWebsite.bind(Object(b.a)(n)),n.onChangeAddress=n.onChangeAddress.bind(Object(b.a)(n)),n.onChangeCity=n.onChangeCity.bind(Object(b.a)(n)),n.getRestaurant=n.getRestaurant.bind(Object(b.a)(n)),n.updateRestaurant=n.updateRestaurant.bind(Object(b.a)(n)),n.deleteRestaurant=n.deleteRestaurant.bind(Object(b.a)(n)),n.state={currentRestaurant:{id:null,name:"",website:"",address:"",city:""},message:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getRestaurant(this.props.match.params.id)}},{key:"onChangeName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentRestaurant:Object(B.a)(Object(B.a)({},e.currentRestaurant),{},{name:t})}}))}},{key:"onChangeWebsite",value:function(e){var t=e.target.value;this.setState((function(e){return{currentRestaurant:Object(B.a)(Object(B.a)({},e.currentRestaurant),{},{website:t})}}))}},{key:"onChangeAddress",value:function(e){var t=e.target.value;this.setState((function(e){return{currentRestaurant:Object(B.a)(Object(B.a)({},e.currentRestaurant),{},{address:t})}}))}},{key:"onChangeCity",value:function(e){var t=e.target.value;this.setState((function(e){return{currentRestaurant:Object(B.a)(Object(B.a)({},e.currentRestaurant),{},{city:t})}}))}},{key:"getRestaurant",value:function(e){var t=this;k.get(e).then((function(e){t.setState({currentRestaurant:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updateRestaurant",value:function(){var e=this;k.update(this.state.currentRestaurant.id,this.state.currentRestaurant).then((function(t){console.log(t.data),e.setState({message:"The restaurant was update successfully!"})})).catch((function(e){console.log(e)}))}},{key:"deleteRestaurant",value:function(){var e=this;k.delete(this.state.currentRestaurant.id).then((function(t){console.log(t.data),e.props.history.push("/restaurants")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.currentRestaurant;return Object(C.jsx)("div",{children:e?Object(C.jsxs)("div",{className:"edit-form",children:[Object(C.jsx)("h4",{children:"Restaurant"}),Object(C.jsxs)("form",{children:[Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"name",children:"Name"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"name",value:e.name,onChange:this.onChangeName})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"website",children:"Website"}),Object(C.jsx)("input",{type:"text",className:"formControl",id:"website",required:!0,value:e.website,onChange:this.onChangeWebsite,name:"website"})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"address",children:"Address"}),Object(C.jsx)("input",{type:"address",className:"formControl",id:"address",value:e.address,onChange:this.onChangeAddress})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"city",children:"City"}),Object(C.jsx)("input",{type:"text",className:"formControl",id:"city",required:!0,value:e.city,onChange:this.onChangeCity,name:"city"})]})]}),Object(C.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateRestaurant,children:"Update"}),Object(C.jsx)("button",{type:"submit",className:"badge badge=danger mr-2",onClick:this.deleteRestaurant,children:"Delete"}),Object(C.jsx)("p",{children:this.state.message})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"Click on a Restaurant"})]})})}}]),a}(n.Component),D=a(40),F=a(72),q=a(111),E=a.n(q),J=a(229),G=a.n(J);E.a.setApiKey("AIzaSyBaOc-kpmUetfkxEQc60qXzA_p4FZvOmUY");n.Component;var K=a(513),Y=a(514),Z=a(481),H=a(511),Q=a(509),V=a(515),X=a(521),$=Object(Q.a)((function(e){return{appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},link:{margin:e.spacing(1,1.5)},toolbarTitle:{flexGrow:1}}}));var ee=function(){var e=$();return Object(C.jsxs)(s.a.Fragment,{children:[Object(C.jsx)(H.a,{}),Object(C.jsx)(K.a,{position:"static",color:"default",elevation:0,className:e.appBar,children:Object(C.jsxs)(Y.a,{className:e.toolbar,children:[Object(C.jsx)(Z.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle,children:Object(C.jsx)(V.a,{component:i.c,to:"/",underline:"none",color:"textPrimary",children:"WhatsToEat"})}),Object(C.jsx)("nav",{children:Object(C.jsx)(V.a,{color:"textPrimary",href:"#",className:e.link,component:i.c,to:"/register",children:"Register"})}),Object(C.jsx)(X.a,{href:"#",color:"primary",variant:"outlined",className:e.link,component:i.c,to:"/login",children:"Login"}),Object(C.jsx)(X.a,{href:"#",color:"primary",variant:"outlined",className:e.link,component:i.c,to:"/logout",children:"Logout"})]})})]})},te=a(516);a(520),Object(Q.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},footer:Object(D.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}));var ae=a(108),ne=a(522),se=a(518),re=a(517),ce=Object(Q.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function ie(){var e=Object(h.f)(),t=Object.freeze({email:"",user_name:"",password:""}),a=Object(n.useState)(t),s=Object(ae.a)(a,2),r=s[0],c=s[1],i=function(e){c(Object(B.a)(Object(B.a)({},r),{},Object(D.a)({},e.target.name,e.target.value.trim())))},o=ce();return Object(C.jsxs)(te.a,{component:"main",maxWidth:"xs",children:[Object(C.jsx)(H.a,{}),Object(C.jsxs)("div",{className:o.paper,children:[Object(C.jsx)(ne.a,{className:o.avatar}),Object(C.jsx)(Z.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(C.jsxs)("form",{className:o.form,noValidate:!0,children:[Object(C.jsxs)(re.a,{container:!0,spacing:2,children:[Object(C.jsx)(re.a,{item:!0,xs:12,children:Object(C.jsx)(se.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:i})}),Object(C.jsx)(re.a,{item:!0,xs:12,children:Object(C.jsx)(se.a,{variant:"outlined",required:!0,fullWidth:!0,id:"user_name",label:"Username",name:"user_name",autoComplete:"user_name",onChange:i})}),Object(C.jsx)(re.a,{item:!0,xs:12,children:Object(C.jsx)(se.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:i})})]}),Object(C.jsx)(X.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit,onClick:function(t){t.preventDefault(),console.log(r),y.post("/api/user/register/",{email:r.email,user_name:r.user_name,password:r.password}).then((function(t){e.push("/login"),console.log(t),console.log(t.data)}))},children:"Sign Up"}),Object(C.jsx)(re.a,{container:!0,justify:"flex-end",children:Object(C.jsx)(re.a,{item:!0,children:Object(C.jsx)(V.a,{href:"#",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}var oe=Object(Q.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function le(){var e=Object(h.f)(),t=Object.freeze({user_name:"",password:""}),a=Object(n.useState)(t),s=Object(ae.a)(a,2),r=s[0],c=s[1],i=function(e){c(Object(B.a)(Object(B.a)({},r),{},Object(D.a)({},e.target.name,e.target.value.trim())))},o=oe();return Object(C.jsxs)(te.a,{component:"main",maxWidth:"xs",children:[Object(C.jsx)(H.a,{}),Object(C.jsxs)("div",{className:o.paper,children:[Object(C.jsx)(ne.a,{className:o.avatar}),Object(C.jsx)(Z.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(C.jsxs)("form",{className:o.form,noValidate:!0,children:[Object(C.jsx)(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"user_name",label:"User Name",name:"user_name",autoComplete:"user_name",autoFocus:!0,onChange:i}),Object(C.jsx)(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:i}),Object(C.jsx)(X.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit,onClick:function(t){t.preventDefault(),y.post("/api/token/",{user_name:r.user_name,password:r.password}).then((function(t){localStorage.setItem("access_token",t.data.access),localStorage.setItem("refresh_token",t.data.refresh),localStorage.setItem("id",t.data.id),localStorage.setItem("user_name",t.data.user_name),y.defaults.headers.Authorization="JWT "+localStorage.getItem("access_token"),e.push("/"),console.log(t.data)}))},children:"Sign In"}),Object(C.jsxs)(re.a,{container:!0,children:[Object(C.jsx)(re.a,{item:!0,xs:!0,children:Object(C.jsx)(V.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(C.jsx)(re.a,{item:!0,children:Object(C.jsx)(V.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})}function ue(){var e=Object(h.f)();return Object(n.useEffect)((function(){y.post("/api/user/logout/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),y.defaults.headers.Authorization=null,e.push("/login")})),Object(C.jsx)("div",{children:"Logout"})}var de=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(ee,{}),Object(C.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark justify-content-between",children:[Object(C.jsxs)("div",{class:"navbar-collapse collapse dual-collapse2",children:[Object(C.jsx)("a",{href:"/login",className:"navbar-brand",children:"WhatsToEat"}),Object(C.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(i.b,{to:"/restaurants",className:"nav-link",children:"Restaurants"})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(i.b,{to:"/add",className:"nav-link",children:"Add Restaurant"})})]})]}),Object(C.jsx)("div",{class:"navbar-collapse collapse dual-collapse2",children:Object(C.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(i.b,{to:"/register",className:"nav-link",children:"Register"})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(i.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(i.b,{to:"/logout",className:"nav-link",children:"Logout"})})]})})]}),Object(C.jsx)("div",{className:"container mt-3",children:Object(C.jsxs)(h.c,{children:[Object(C.jsx)(h.a,{path:"/register",component:ie}),Object(C.jsx)(h.a,{path:"/login/",component:le}),Object(C.jsx)(h.a,{path:"/logout",component:ue}),Object(C.jsx)(h.a,{exact:!0,path:"/restaurants",component:w}),Object(C.jsx)(h.a,{path:"/restaurants/:id",component:P}),Object(C.jsx)("div",{className:"main-wrapper",children:Object(C.jsx)(h.a,{exact:!0,path:"/add",component:U})})]})})]})}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(477);c.a.render(Object(C.jsx)(i.a,{children:Object(C.jsx)(de,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[478,1,2]]]);
//# sourceMappingURL=main.735e0e9a.chunk.js.map